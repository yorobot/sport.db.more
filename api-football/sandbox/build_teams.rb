
require_relative 'helper'



leagues = [
 ##############  
 ## internationals (national teams)
  ['world',        ['2022'] ], 
  ##  - check for Time to be defined
  ## ['friendlies',   ['2021', '2022', '2023'] ],   
  ['uefa.nl',      ['2022'] ],     # uefa nations league
  ['southamerica', ['2021'] ],     # comebol copa america

  ## todo/fix - add timezones for africa and asia !!!
  ## ['africa',       ['2021', '2023']],  # Africa Cup of Nations
  ## ['asia',         ['2023']],          # asian cup


 ########
 ##  clubs
 ## -- europe 
  ['de.1',         ['2021/22','2022/23','2023/24']],
  ['de.2',         ['2021/22','2022/23','2023/24']],
  ['de.cup',       ['2021/22','2022/23','2023/24']],

  ['at.1',         ['2021/22','2022/23','2023/24']],
  ['at.2',         ['2021/22','2022/23','2023/24']],
  ['at.cup',       ['2021/22','2022/23','2023/24']],

  ['cz.1',          ['2021/22','2022/23','2023/24']], 
  ['hu.1',          ['2021/22','2022/23','2023/24']], 

  ['be.1',          ['2021/22','2022/23','2023/24']], 
  ['be.2',          ['2021/22','2022/23','2023/24']], 
  ['be.cup',        ['2021/22','2022/23','2023/24']], 

  ['nl.1',          ['2021/22','2022/23','2023/24']], 
  ['nl.2',          ['2021/22','2022/23','2023/24']], 
  ['nl.cup',        ['2021/22','2022/23','2023/24']], 

  ['lu.1',          ['2021/22','2022/23','2023/24']], 


  ['eng.1',         ['2021/22','2022/23','2023/24']], 
  ['eng.fa.cup',    ['2021/22','2022/23','2023/24']],
  ['eng.2',         ['2021/22','2022/23','2023/24']], 
  ['eng.3',         ['2021/22','2022/23','2023/24']], 
  ['eng.4',         ['2021/22','2022/23','2023/24']], 

  ['sco.1',         ['2021/22','2022/23','2023/24']], 


  ['it.1',         ['2021/22','2022/23','2023/24']], 
  ['it.2',         ['2021/22','2022/23','2023/24']], 
  ['it.cup',       ['2021/22','2022/23','2023/24']],
 
  ['es.1',         ['2021/22','2022/23','2023/24']], 
  ['es.2',         ['2021/22','2022/23','2023/24']], 
  ['es.cup',       ['2021/22','2022/23','2023/24']],
 

  ['pt.1',         ['2021/22','2022/23','2023/24']], 
  ['pt.cup',       ['2021/22','2022/23','2023/24']],


  ['fr.1',         ['2021/22','2022/23','2023/24']], 
  ['fr.2',         ['2021/22','2022/23','2023/24']], 
  ['fr.cup',       ['2021/22','2022/23','2023/24']],


  ['tr.1',         ['2021/22','2022/23','2023/24']], 
  ['gr.1',         ['2021/22','2022/23','2023/24']], 
  ['cy.1',         ['2021/22','2022/23','2023/24']], 



  ['uefa.cl',      ['2021/22', '2022/23', '2023/24']],
  ['uefa.el',      ['2021/22', '2022/23', '2023/24']],
  ['uefa.conf',    ['2021/22', '2022/23', '2023/24']],

## -- africa  
  ['eg.1',         ['2021/22','2022/23','2023/24']], 
  ['za.1',         ['2021/22','2022/23','2023/24']], 


## -- north (& central) america  
  ['mx.1',         ['2021/22', '2022/23','2023/24']], 
  ['mx.2',         ['2021/22', '2022/23','2023/24']], 

  ['mls',          ['2021', '2022', '2023'  ]],
## -- south america
  ['br.1',    ['2021', '2022','2023'] ],
  ['br.cup',  ['2023'] ],
  ['ar.1',    ['2021', '2022','2023'] ],
  ['ar.cup',  ['2023'] ],

  ['copa.l',       ['2021', '2022', '2023']],
  ['copa.s',       ['2021', '2022', '2023']], 
## -- asia
  ['jp.1',    ['2021', '2022', '2023'] ],
  ['jp.cup',  ['2021', '2022', '2023'] ],
  ['cn.1',    ['2021', '2022', '2023'] ],

## -- ozeania & australia
  ['au.1',    ['2021/22', '2022/23', '2023/24'] ],
]




# outdir = './o'
# outdir = '/sports/openfootball/world.more'


# ApiFootball.build( leagues, outdir: outdir )



leagues.each_with_index do |(league, seasons),i|
  seasons.each_with_index do |season,j|
     puts "==> #{i+1} | #{league} #{j+1}/#{seasons.size}"

     ## fetch team records by league & season
     res = ApiFootball.teams( league: league, season: season ) 
     puts "  #{res['response'].size} record(s)"
  end
end



puts "bye"


